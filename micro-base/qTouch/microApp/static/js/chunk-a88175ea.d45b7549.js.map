{"version":3,"sources":["webpack://micro_[name]/./src/microApps/vehicleManage/api/index.ts","webpack://micro_[name]/./src/microApps/vehicleManage/views/typeManage/TypeManage.vue?f06a","webpack://micro_[name]/./src/microApps/vehicleManage/views/typeManage/TypeManage.vue","webpack://micro_[name]/./src/microApps/vehicleManage/views/typeManage/TypeManage.vue?de88","webpack://micro_[name]/./src/microApps/vehicleManage/views/typeManage/TypeManage.vue?ddca","webpack://micro_[name]/./src/microApps/vehicleManage/views/typeManage/TypeManage.vue?3a30"],"names":["api","getPaging","add","update","delete","multipleDelete","getOneById","getBindDevice","bindDevice","cancelBindDevice","updateGps","findTypeTree","getOrgTreeData","getNewOrgTree","getTemplateByTypeDetaiId","getPersonPaging","getDevicePaging","getTypeDetail","deleteType","saveCustomAttrItems","typeTree","getData","treeItem","getDetail","changeAttrItemMustInput","transfer","carDetail","getCustom","download","upload","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","basicForm","on","$event","openTypeTreeNodeForm","slot","staticStyle","model","treeMessage","callback","$$v","$set","ref","data","defaultProps","filterNode","handleNodeClick","scopedSlots","_u","key","fn","node","style","width","level","label","_v","_s","remove","id","_e","dialogTitle","visibleDialog","formData","formRules","noChecked","hasChecked","transferData","saveTypeAndAttr","staticRenderFns","pageDataIsLoading","doLoading","method","filterText","children","code","icons","required","trigger","message","selected","hasCustomRole","qTouch","getBaseTypeByCode","getTypeTreeData","then","$http","get","status","$message","error","Object","assign","icon","url","buttonName","parentId","getTypeAndAttrs","map","i","attrName","$refs","validate","valid","typeVO","length","post","success","getCustomAttributeList","$confirm","confirmButtonText","cancelButtonText","type","res","val","tree","filter","indexOf","filters","formatterAttrType","component"],"mappings":"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","file":"static/js/chunk-a88175ea.d45b7549.js","sourcesContent":["const api = {\r\n  getPaging: \"/admin/car/pagingCar\", //车辆分页列表\r\n  add: \"/admin/car/add\", //保存车辆\r\n  update: \"/admin/car/update\", //保存车辆\r\n  delete: \"/admin/car/delete\", //删除\r\n  multipleDelete: \"/admin/car/multipleDelete\", //批量删除\r\n  getOneById: \"/admin/car/get\", // 获取车辆信息\r\n\r\n  //获取车辆绑定设备\r\n  getBindDevice: \"/admin/carDevice/listDeviceByCarId/carId/\",\r\n  //绑定设备\r\n  bindDevice: \"/admin/carDevice/bind/carId/\",\r\n  cancelBindDevice: \"/admin/carDevice/unbind\",\r\n\r\n  updateGps: \"/admin/carDevice/updateGPSMark/carDeviceId/\",\r\n\r\n  findTypeTree: \"/admin/typeDetail/findTypeTree\", //获取类型树\r\n  getOrgTreeData: \"/admin/organization/orgTree\", //组织机构树\r\n  getNewOrgTree: \"/admin/organization/orgTree/car\",\r\n  getTemplateByTypeDetaiId: \"/admin/typeDetail/getTemplateByTypeDetaiId\", //获取自定义属性信息\r\n  getPersonPaging: \"/admin/person/pagingCarPerson\", //获取人员表格数据\r\n  getDevicePaging: \"/admin/device/pagingDevice\", //获取设备表格数据\r\n  getTypeDetail: \"/admin/typeDetail\", //六种类型树基础接口\r\n  deleteType: \"/admin/typeDetail/delete\", //删除类型\r\n  saveCustomAttrItems: \"/admin/typeDetail/saveCustomAttrItems\", //保存选项配置\r\n\r\n  // 类型树\r\n  typeTree: {\r\n    getData: \"/admin/typeDetail/findTypeTree/car\"\r\n  },\r\n  // 树节点\r\n  treeItem: {\r\n    getDetail: \"/admin/typeDetail/attr/pagingAttr/car/\", // {typeId} 该节点对应详细信息\r\n    add: \"/admin/typeDetail/addTypeAndAttrs/car\",\r\n    update: \"/admin/typeDetail/updateTypeAndAttrs/car\",\r\n    delete: \"/admin/typeDetail/delete/\", // {typeId}\r\n    changeAttrItemMustInput: \"/admin/typeDetail/saveCustomAttrItems\"\r\n  },\r\n  // 类型节点 自定义信息穿梭框数据\r\n  transfer: {\r\n    getData: \"/admin/typeDetail/attr/transferData/car\"\r\n  },\r\n  // 车辆详情\r\n  carDetail: {\r\n    getDetail: \"/admin/car/get/\", // {{carId}} 车辆详情\r\n    getCustom: \"/admin/typeDetail/getTemplateByTypeDetaiId/\" // {typeId} 车辆类型id\r\n  },\r\n\r\n  //excel导入\r\n  download: \"/api/excel/download/carTemplate\",\r\n  upload: \"/api/excel/upload/carTemplate\"\r\n};\r\n\r\nexport default api;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageDataIsLoading),expression:\"pageDataIsLoading\"}],staticClass:\"container\"},[_c('q-left-right-layout',{staticClass:\"main-container\",attrs:{\"left-title\":\"车辆类型\",\"btn-tip\":\"添加一级节点\",\"right-title\":(_vm.basicForm.name || '') + '详情'},on:{\"click\":function($event){return _vm.openTypeTreeNodeForm('addTop', '')}}},[_c('div',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('el-input',{staticStyle:{\"margin-bottom\":\"10px\",\"padding\":\"0 10px\"},attrs:{\"placeholder\":\"输入关键字进行过滤\",\"maxlength\":100,\"size\":\"small\"},model:{value:(_vm.treeMessage.filterText),callback:function ($$v) {_vm.$set(_vm.treeMessage, \"filterText\", $$v)},expression:\"treeMessage.filterText\"}}),_c('div',{staticClass:\"tree-content\"},[_c('el-tree',{ref:\"tree\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.treeMessage.data,\"props\":_vm.treeMessage.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"highlight-current\":\"\",\"expand-on-click-node\":false,\"filter-node-method\":_vm.filterNode},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"text-overflow\":\"ellipsis\",\"overflow\":\"hidden\",\"white-space\":\"nowrap\",\"word-break\":\"keep-all\"},style:({ width: 190 - (node.level - 1) * 18 + 'px' }),attrs:{\"title\":node.label}},[_vm._v(\"\\n              \"+_vm._s(node.label)+\"\\n            \")]),_c('span',[_c('el-button',{staticClass:\"el-icon-plus\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"title\":\"添加子节点\"},on:{\"click\":function($event){return _vm.openTypeTreeNodeForm('add', data)}}}),_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"title\":\"编辑节点\"},on:{\"click\":function($event){return _vm.openTypeTreeNodeForm('edit', data)}}}),_c('el-button',{staticClass:\"el-icon-delete\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"title\":\"删除节点\"},on:{\"click\":function($event){return _vm.remove(node, data)}}})],1)])}}])})],1)],1),_c('div',{staticClass:\"right\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{staticClass:\"basic-attribute\"},[_c('div',{staticClass:\"content-title\"},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"基础信息\")]),_c('div',{staticClass:\"basic-attribute-body\"},[_c('el-form',{attrs:{\"label-width\":\"100px\",\"size\":\"small\",\"status-icon\":\"\",\"model\":_vm.basicForm}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.basicForm.name),callback:function ($$v) {_vm.$set(_vm.basicForm, \"name\", $$v)},expression:\"basicForm.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"父节点名称：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.basicForm.parentName),callback:function ($$v) {_vm.$set(_vm.basicForm, \"parentName\", $$v)},expression:\"basicForm.parentName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编号：\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.basicForm.code),callback:function ($$v) {_vm.$set(_vm.basicForm, \"code\", $$v)},expression:\"basicForm.code\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"图标：\",\"prop\":\"icons\"}},[_c('q-upload',{attrs:{\"prev\":\"\",\"disabled\":\"\",\"limit-num\":1,\"accept\":\"image/png,image/jpeg\",\"size\":2},model:{value:(_vm.basicForm.icons),callback:function ($$v) {_vm.$set(_vm.basicForm, \"icons\", $$v)},expression:\"basicForm.icons\"}})],1)],1)],1)],1)],1)]),(_vm.hasCustomRole)?_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"content-title\"},[_c('el-icon',{staticClass:\"el-icon-menu icon-blue\"}),_vm._v(\"\\n          自定义信息\\n        \")],1),_c('base-data-info-table',{ref:\"baseDataInfoTable\",attrs:{\"id\":_vm.basicForm.id,\"active\":\"/admin/typeDetail/attr/pagingAttr/car/\"}})],1):_vm._e()])]),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.visibleDialog,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.visibleDialog=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.doLoading),expression:\"doLoading\"}]},[_c('el-form',{ref:\"formData\",attrs:{\"label-width\":\"100px\",\"size\":\"small\",\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":100},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"编码：\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":100,\"placeholder\":\"包含字母、数字、横线、下划线和点,点不能作为开头,长度3-100位\"},model:{value:(_vm.formData.code),callback:function ($$v) {_vm.$set(_vm.formData, \"code\", $$v)},expression:\"formData.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标：\",\"prop\":\"icons\"}},[_c('q-upload',{attrs:{\"limit-num\":1,\"accept\":\"image/png,image/jpeg\",\"size\":2},model:{value:(_vm.formData.icons),callback:function ($$v) {_vm.$set(_vm.formData, \"icons\", $$v)},expression:\"formData.icons\"}})],1),(_vm.hasCustomRole)?_c('div',{staticClass:\"transfer\"},[_c('el-transfer',{staticStyle:{\"margin\":\"auto\"},attrs:{\"filterable\":\"\",\"titles\":['未选择', '已选择'],\"button-texts\":['解绑', '绑定'],\"format\":{ noChecked: '${total}', hasChecked: '${checked}/${total}' },\"data\":_vm.transferData.data},model:{value:(_vm.transferData.selected),callback:function ($$v) {_vm.$set(_vm.transferData, \"selected\", $$v)},expression:\"transferData.selected\"}})],1):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.visibleDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveTypeAndAttr()}}},[_vm._v(\"确定\")])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\n\r\nimport api from \"../../api\";\r\nimport { formatterAttrType } from \"@/utils/dataFormat\";\r\n\r\n@Component({\r\n  // 过滤器\r\n  filters: {\r\n    formatterAttrType\r\n  }\r\n})\r\nexport default class TypeManage extends Vue {\r\n  pageDataIsLoading: boolean = true;\r\n  doLoading: boolean = false;\r\n\r\n  method: string = \"add\"; //保存方式，add：添加，edit：更新\r\n  // 类型树信息\r\n  treeMessage: any = {\r\n    // 过滤条件\r\n    filterText: \"\",\r\n    // tree数据\r\n    data: [],\r\n    // 配置选项\r\n    defaultProps: {\r\n      children: \"children\",\r\n      label: \"name\"\r\n    }\r\n  };\r\n  // 选中表单信息\r\n  basicForm: any = {};\r\n\r\n  // 添加或编辑树节点弹窗\r\n  dialogTitle: string = \"\";\r\n  visibleDialog: boolean = false;\r\n  // 弹窗表单信息\r\n  formData: any = {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    icons: []\r\n  };\r\n  formRules: any = {\r\n    name: { required: true, trigger: \"blur\", message: \"请输入名称\" },\r\n    code: { required: true, trigger: \"blur\", message: \"请输入编码\" }\r\n  };\r\n  transferData: any = {\r\n    data: [],\r\n    selected: []\r\n  };\r\n  hasCustomRole: boolean = qTouch.getBaseTypeByCode(\"car\");\r\n\r\n  created() {\r\n    this.getTypeTreeData().then(() => (this.pageDataIsLoading = false));\r\n  }\r\n\r\n  // 获取车辆类型树\r\n  async getTypeTreeData() {\r\n    try {\r\n      let {\r\n        data: { status, data, message }\r\n      } = await this.$http.get(api.typeTree.getData);\r\n      if (status) {\r\n        this.treeMessage.data = data ? data : [];\r\n        if (!this.basicForm.id && data) this.handleNodeClick(this.treeMessage.data[0]);\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } catch (e) {\r\n      this.$message.error(\"请求错误，请重试！\");\r\n    }\r\n  }\r\n\r\n  // 树节点点击事件\r\n  handleNodeClick(data: any) {\r\n    this.basicForm = Object.assign({}, data);\r\n    if (this.basicForm.icon)\r\n      this.basicForm.icons = [\r\n        {\r\n          name: \"icon\",\r\n          url: this.basicForm.icon\r\n        }\r\n      ];\r\n  }\r\n\r\n  // 打开节点弹窗\r\n  openTypeTreeNodeForm(buttonName: string = \"add\", data: any) {\r\n    switch (buttonName) {\r\n      case \"add\":\r\n        this.method = \"add\";\r\n        this.dialogTitle = \"添加车辆类型\";\r\n        this.formData = {\r\n          parentId: data.id,\r\n          level: data.level + 1,\r\n          icons: []\r\n        };\r\n        break;\r\n      case \"edit\":\r\n        this.method = \"edit\";\r\n        this.dialogTitle = \"编辑车辆类型\";\r\n        this.formData = Object.assign({}, data);\r\n        if (this.formData.icon)\r\n          this.formData.icons = [\r\n            {\r\n              name: \"icon\",\r\n              url: this.formData.icon\r\n            }\r\n          ];\r\n        break;\r\n      case \"addTop\":\r\n        this.method = \"add\";\r\n        this.dialogTitle = \"添加车辆类型\";\r\n        this.formData = { level: 1, icons: [] };\r\n        break;\r\n      default:\r\n        this.formData = { icons: [] };\r\n    }\r\n    this.visibleDialog = true;\r\n    this.getTypeAndAttrs();\r\n  }\r\n\r\n  // 获取组织机构和自定义属性，用于transfer\r\n  async getTypeAndAttrs() {\r\n    this.transferData.data = [];\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.transfer.getData + \"?typeDetailId=\" + this.formData.id);\r\n    if (status) {\r\n      this.transferData.data = data.data.map((i: any) => {\r\n        return {\r\n          key: i.id,\r\n          label: i.attrName\r\n        };\r\n      });\r\n      this.transferData.selected = data.selected;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  // 保存树节点\r\n  async saveTypeAndAttr() {\r\n    this.doLoading = true;\r\n    (this.$refs.formData as any).validate((valid: any) => {\r\n      if (!valid) {\r\n        this.doLoading = false;\r\n        return;\r\n      }\r\n    });\r\n\r\n    let url = this.formData.id ? api.treeItem.update : api.treeItem.add;\r\n    let typeVO = Object.assign(this.formData, { attrs: this.transferData.selected });\r\n    if (typeVO.icons && typeVO.icons.length) {\r\n      typeVO.icon = typeVO.icons[0].url ? typeVO.icons[0].url : \"\";\r\n    } else {\r\n      typeVO.icon = \"\";\r\n    }\r\n    try {\r\n      let {\r\n        data: { status, data, message }\r\n      } = await this.$http.post(url, typeVO);\r\n      if (status) {\r\n        this.$message.success(message);\r\n        this.visibleDialog = false;\r\n        this.basicForm = Object.assign({}, data);\r\n        (this.$refs[\"baseDataInfoTable\"] as any).getCustomAttributeList();\r\n        this.getTypeTreeData().then(() => (this.pageDataIsLoading = false));\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n      this.doLoading = false;\r\n    } catch (e) {\r\n      this.$message.error(\"请求错误，请重试！\");\r\n    }\r\n  }\r\n\r\n  // 删除节点\r\n  remove(node: any, data: any) {\r\n    this.$confirm(\"删除该类型将会删除其所有子类型及下属数据，是否删除？\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    }).then(() => {\r\n      this.$http.get(api.treeItem.delete + data.id).then((res: any) => {\r\n        if (res.data.status) {\r\n          this.$message.success(\"删除成功\");\r\n          this.basicForm = {};\r\n          this.getTypeTreeData();\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // 监听是否tree过滤条件\r\n  @Watch(\"treeMessage.filterText\")\r\n  setFilterText(val: any) {\r\n    (this.$refs.tree as any).filter(val);\r\n  }\r\n\r\n  // 过滤tree\r\n  filterNode(value: any, data: any) {\r\n    if (!value) return true;\r\n    return data[this.treeMessage.defaultProps.label].indexOf(value) !== -1;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeManage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeManage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TypeManage.vue?vue&type=template&id=f9d291e6&scoped=true&\"\nimport script from \"./TypeManage.vue?vue&type=script&lang=ts&\"\nexport * from \"./TypeManage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TypeManage.vue?vue&type=style&index=0&id=f9d291e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9d291e6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeManage.vue?vue&type=style&index=0&id=f9d291e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeManage.vue?vue&type=style&index=0&id=f9d291e6&lang=scss&scoped=true&\""],"sourceRoot":""}