(window["webpackJsonpmicro_name_"]=window["webpackJsonpmicro_name_"]||[]).push([["chunk-6989d4fe"],{"3b2b":function(a,t,e){var i=e("7726"),s=e("5dbc"),n=e("86cc").f,l=e("9093").f,r=e("aae3"),o=e("0bfb"),c=i.RegExp,p=c,u=c.prototype,m=/a/g,d=/a/g,g=new c(m)!==m;if(e("9e1e")&&(!g||e("79e5")((function(){return d[e("2b4c")("match")]=!1,c(m)!=m||c(d)==d||"/a/i"!=c(m,"i")})))){c=function(a,t){var e=this instanceof c,i=r(a),n=void 0===t;return!e&&i&&a.constructor===c&&n?a:s(g?new p(i&&!n?a.source:a,t):p((i=a instanceof c)?a.source:a,i&&n?o.call(a):t),e?this:u,c)};for(var f=function(a){a in c||n(c,a,{configurable:!0,get:function(){return p[a]},set:function(t){p[a]=t}})},h=l(p),v=0;h.length>v;)f(h[v++]);u.constructor=c,c.prototype=u,e("2aba")(i,"RegExp",c)}e("7a56")("RegExp")},4879:function(a,t,e){"use strict";var i=e("7404"),s=e.n(i);s.a},5384:function(a,t,e){"use strict";t["a"]={getAppApplyList:"/admin/openApp/manage/list",getAppList:"/admin/openApp/manage/showList",appDetail:"/admin/openApp/manage/showApp",appPass:"/admin/openApp/manage/pass",appReject:"/admin/openApp/manage/reject",appCancel:"/admin/openApp/manage/cancel",appCreate:"/admin/openApp/manage/createApp",appUpdate:"/admin/openApp/manage/updateApp",appSecretRefresh:"/admin/openApp/manage/refreshSecret",getQualificationData:"/admin/devQualification/getByTenant",cancelQualification:"/admin/devQualification/cancelAudit",saveQualification:"/admin/devQualification/save",submitQualification:"/admin/devQualification/submit",editQualification:"/admin/devQualification/update",getAllQualificationList:"/admin/devQualificationAudit/paging",agreeQualificationApply:"/admin/devQualificationAudit/passAudit",refusequalificationApply:"/admin/devQualificationAudit/rejectAudit",createAccessTeam:"/admin/openApp/authTenant/accessTeam",cancelAccessTeam:"/admin/openApp/authTenant/cancle",createGenerateCode:"/admin/openApp/authTenant/generateCode",passAccessTeam:"/admin/openApp/authTenant/pass",rejectAccessTeam:"/admin/openApp/authTenant/reject",showAccessDetail:"/admin/openApp/authTenant/showDetail",getApplyList:"/admin/openApp/authTenant/showList",checkAuthorizationCode:"/admin/openApp/authTenant/testCode",getDataType:"/admin/openApp/authTenant/getDataType",getAccessTeamList:"/admin/openApp/authTenant/freshAuthTenantInfo"}},7404:function(a,t,e){},"75fb":function(a,t,e){"use strict";e.d(t,"d",(function(){return i})),e.d(t,"b",(function(){return s})),e.d(t,"a",(function(){return l})),e.d(t,"c",(function(){return r}));e("3b2b");var i=function(a){var t=new RegExp("^[1][3-9][0-9]{9}$");return t.test(a)},s=function(a){var t="image/jpeg"===a.type,e="image/jpg"===a.type,i="image/png"===a.type,s="image/bmp"===a.type,n=a.size/1024/1024<10;return t||e||i||s?n?{status:!0,message:""}:{status:!1,message:"上传图片大小不能超过 10MB!"}:{status:!1,message:"上传图片必须是/jpg/jpeg/png/bmp格式!"}};function n(a){var t={value:a,unit:"KB"};return a/=1024,a>=1&&(t.value=+a.toFixed(2),t.unit="MB",a/=1024,a>=1&&(t.value=+a.toFixed(2),t.unit="GB",a/=1024,a>=1&&(t.value=+a.toFixed(2),t.unit="TB"))),t}function l(a){var t=a.value,e=a.unit;switch(e){case"KB":return Math.floor(t);case"MB":return Math.floor(1024*t);case"GB":return Math.floor(1024*t*1024);case"TB":return Math.floor(1024*t*1024*1024)}}var r=function(a,t){if(console.log(a),t){if(t.formatList&&t.formatList.every((function(t){return a.type!=="image/"+t})))return{status:!1,message:"上传图片必须是/".concat(t.formatList.join("/"),"格式!")};if(t.maxKbSize&&a.size/1024>t.maxKbSize){var e=n(t.maxKbSize);return{status:!1,message:"上传图片大小不能超过 ".concat(e.value).concat(e.unit,"!")}}}return{status:!0,message:""}}},d022:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"open-apply"},[e("div",{staticClass:"state-box"},[e("div",{staticClass:"item"},[e("span",[a._v("状态")]),0===a.currentStatus?e("span",{staticClass:"state"},[a._v("未认证")]):1===a.currentStatus?e("span",{staticClass:"state",staticStyle:{color:"#409EFF"}},[e("i",{staticClass:"el-icon-warning-outline"}),a._v("待审核")]):2===a.currentStatus?e("span",{staticClass:"state",staticStyle:{color:"#67C23A"}},[e("i",{staticClass:"el-icon-circle-check"}),a._v("已通过")]):3===a.currentStatus?e("span",{staticClass:"state",staticStyle:{color:"#F56C6C"}},[e("i",{staticClass:"el-icon-circle-close"}),a._v("未通过")]):a._e()]),3===a.currentStatus?e("div",{staticClass:"item"},[e("span",[a._v("未通过原因")]),e("span",{staticStyle:{color:"#F56C6C"}},[a._v(a._s(a.applyData.rejectReason))])]):a._e()]),a.isEdit?e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"applyForm",attrs:{model:a.form,rules:a.rules,"label-width":"150px","label-position":"right"}},[e("el-form-item",{attrs:{label:"公司名称：",prop:"developerName"}},[e("el-input",{staticClass:"inp",attrs:{maxlength:100,placeholder:"请输入"},model:{value:a.form.developerName,callback:function(t){a.$set(a.form,"developerName",t)},expression:"form.developerName"}})],1),e("el-form-item",{attrs:{label:"统一社会信用代码：",prop:"idCard"}},[e("el-input",{staticClass:"inp",attrs:{maxlength:100,placeholder:"请输入"},model:{value:a.form.idCard,callback:function(t){a.$set(a.form,"idCard",t)},expression:"form.idCard"}})],1),e("el-form-item",{attrs:{label:"营业执照：",prop:"attachmentUrl"}},[e("q-upload",{attrs:{limitNum:1,accept:"image/bmp,image/png,image/jpeg"},model:{value:a.fileList,callback:function(t){a.fileList=t},expression:"fileList"}})],1),e("el-form-item",{attrs:{label:"所属行业：",prop:"industry"}},[e("el-input",{staticClass:"inp",attrs:{maxlength:100,placeholder:"请输入"},model:{value:a.form.industry,callback:function(t){a.$set(a.form,"industry",t)},expression:"form.industry"}})],1),e("el-form-item",{attrs:{label:"公司网站：",prop:"website"}},[e("el-input",{staticClass:"inp",attrs:{type:"url",maxlength:200,placeholder:"请输入"},model:{value:a.form.website,callback:function(t){a.$set(a.form,"website",t)},expression:"form.website"}})],1),e("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[e("el-input",{staticClass:"inp",attrs:{maxlength:50,placeholder:"请输入"},model:{value:a.form.contactPerson,callback:function(t){a.$set(a.form,"contactPerson",t)},expression:"form.contactPerson"}})],1),e("el-form-item",{attrs:{label:"联系电话：",prop:"phoneNumber"}},[e("el-input",{staticClass:"inp",attrs:{type:"tel",placeholder:"请输入"},model:{value:a.form.phoneNumber,callback:function(t){a.$set(a.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1),e("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[e("el-input",{staticClass:"inp",attrs:{type:"email",maxlength:50,placeholder:"请输入"},model:{value:a.form.email,callback:function(t){a.$set(a.form,"email",t)},expression:"form.email"}})],1),e("el-form-item",{attrs:{label:"联系地址：",prop:"address"}},[e("el-input",{staticClass:"inp",attrs:{maxlength:100,placeholder:"请输入"},model:{value:a.form.address,callback:function(t){a.$set(a.form,"address",t)},expression:"form.address"}})],1)],1):e("ol",{staticClass:"apply-info"},[e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("公司名称：")]),e("span",[a._v(a._s(a.applyData.developerName))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("统一社会信用代码：")]),e("span",[a._v(a._s(a.applyData.idCard))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("营业执照：")]),e("span",{staticClass:"img",on:{click:function(t){return a.handlePreview(a.applyData.attachmentUrl)}}},[e("i",{staticClass:"el-icon-picture"}),a._v("查看图片")])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("所属行业：")]),e("span",[a._v(a._s(a.applyData.industry))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("公司网站：")]),e("span",[a._v(a._s(a.applyData.website))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("联系人：")]),e("span",[a._v(a._s(a.applyData.contactPerson))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("联系电话：")]),e("span",[a._v(a._s(a.applyData.phoneNumber))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("邮箱：")]),e("span",[a._v(a._s(a.applyData.email))])]),e("li",{staticClass:"item"},[e("span",{staticClass:"label"},[a._v("联系地址：")]),e("span",[a._v(a._s(a.applyData.address))])])]),e("div",{staticClass:"btn"},[0===a.currentStatus?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleSave}},[a._v("保存")]):a._e(),0===a.currentStatus?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleSubmit}},[a._v("提交")]):a._e(),1===a.currentStatus?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleCancelApply}},[a._v("取消审核")]):a._e(),3!==a.currentStatus||a.isEditSave?a._e():e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleEdit}},[a._v("修改")]),a.isEditSave?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleEditSave}},[a._v("保存")]):a._e()],1),e("el-dialog",{attrs:{title:"预览",width:"580px",visible:a.dialogImageVisible,"close-on-click-modal":!1,modal:!1},on:{"update:visible":function(t){a.dialogImageVisible=t}}},[e("img",{staticStyle:{display:"block","max-width":"100%","max-height":"60vh",margin:"0 auto"},attrs:{src:a.dialogImageUrl,alt:""}})])],1)},s=[],n=(e("6b54"),e("d225")),l=e("b0b4"),r=e("308d"),o=e("6bb5"),c=e("4e2b"),p=e("9ab4"),u=e("60a3"),m=e("5384"),d=e("75fb"),g=function(a){function t(){var a;return Object(n["a"])(this,t),a=Object(r["a"])(this,Object(o["a"])(t).apply(this,arguments)),a.isValidateTel=function(a,t,e){""===t||Object(d["d"])(t)?e():e(new Error("电话格式错误"))},a.isEdit=!1,a.isEditSave=!1,a.currentStatus=0,a.applyData={},a.fileList=[],a.form={},a.loading=!1,a.rules={developerName:[{required:!0,message:"该选项为必填项",trigger:"change"}],idCard:[{required:!0,message:"该选项为必填项",trigger:"change"}],attachmentUrl:[{required:!0,message:"该选项为必填项",trigger:["change","blur"]}],industry:[{required:!0,message:"该选项为必填项",trigger:"change"}],website:[{required:!0,message:"该选项为必填项",trigger:"change"},{type:"url",message:"请输入正确的网址",trigger:["blur","change"]}],contactPerson:[{required:!0,message:"该选项为必填项",trigger:"change"}],phoneNumber:[{required:!0,message:"该选项为必填项",trigger:"change"},{validator:a.isValidateTel,trigger:["blul","change"]}],email:[{required:!0,message:"该选项为必填项",trigger:"change"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],address:[{required:!0,message:"该选项为必填项",trigger:"change"}]},a.dialogImageVisible=!1,a.dialogImageUrl="",a}return Object(c["a"])(t,a),Object(l["a"])(t,[{key:"handleAttachChange",value:function(a){a.length?this.form.attachmentUrl=a[0].url:this.form.attachmentUrl=""}},{key:"created",value:function(){this.getApplyData()}},{key:"getApplyData",value:function(){var a=this;this.$http.get(m["a"].getQualificationData).then((function(t){t.data.status?(a.applyData=t.data.data,null===a.applyData.authStatus&&(a.applyData.authStatus=0),a.applyData.attachmentUrl?a.fileList=[{url:a.applyData.attachmentUrl,smallUrl:a.applyData.attachmentUrl}]:a.fileList=[],a.currentStatus=a.applyData.authStatus,localStorage.setItem("openPlatformAuth",a.applyData.authStatus.toString()),0===a.currentStatus?(a.isEdit=!0,a.form=JSON.parse(JSON.stringify(a.applyData)),delete a.form.authStatus):a.isEdit=!1):a.$message.error(t.data.message)}))}},{key:"handleSave",value:function(){var a=this,t=this.$refs.applyForm;t.validate((function(t){if(!t)return!1;a.loading=!0,a.$http.post(m["a"].saveQualification,a.form).then((function(t){a.loading=!1,t.data.status?(a.$message.success("保存成功"),a.getApplyData()):a.$message.error(t.data.message)}))}))}},{key:"handleSubmit",value:function(){var a=this,t=this.$refs.applyForm;t.validate((function(t){if(!t)return!1;a.loading=!0,a.$http.post(m["a"].submitQualification,a.form).then((function(t){a.loading=!1,t.data.status?(a.$message.success("提交成功"),a.getApplyData()):a.$message.error(t.data.message)}))}))}},{key:"handleCancelApply",value:function(){var a=this;this.$confirm("确定取消审核？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.get(m["a"].cancelQualification+"/"+a.applyData.id).then((function(t){t.data.status?(a.$message.success("取消审核成功"),a.getApplyData()):a.$message.error(t.data.message)}))}))}},{key:"handleEdit",value:function(){this.isEdit=!0,this.form=JSON.parse(JSON.stringify(this.applyData)),this.isEditSave=!0,delete this.form.authStatus}},{key:"handleEditSave",value:function(){var a=this,t=this.$refs.applyForm;t.validate((function(t){if(!t)return!1;a.loading=!0,a.$http.post(m["a"].editQualification,a.form).then((function(t){a.loading=!1,t.data.status?(a.isEditSave=!1,a.$message.success("修改成功"),a.getApplyData()):a.$message.error(t.data.message)}))}))}},{key:"handlePreview",value:function(a){this.dialogImageUrl=a,this.dialogImageVisible=!0}}]),t}(u["e"]);p["__decorate"]([Object(u["f"])("fileList")],g.prototype,"handleAttachChange",null),g=p["__decorate"]([u["a"]],g);var f=g,h=f,v=(e("4879"),e("2877")),b=Object(v["a"])(h,i,s,!1,null,"02565fbe",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-6989d4fe.95db4227.js.map